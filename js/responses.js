/**
 * MUSE Customer Bot - Response Templates
 * ì±—ë´‡ ì‘ë‹µ í…œí”Œë¦¿ ì •ì˜
 */

const RESPONSES = {
    // ì¸ì‚¬ë§
    greetings: {
        patterns: ['ì•ˆë…•', 'í•˜ì´', 'hello', 'hi', 'ì²˜ìŒ', 'ì‹œì‘'],
        responses: [
            'ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š MUSE Studioì…ë‹ˆë‹¤.\nì–´ë–¤ ì„œë¹„ìŠ¤ê°€ í•„ìš”í•˜ì‹ ê°€ìš”?',
            'ë°˜ê°‘ìŠµë‹ˆë‹¤! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?'
        ],
        quickReplies: ['ì›¹ì‚¬ì´íŠ¸ ì œì‘', 'ì•± ê°œë°œ', 'AI ì†”ë£¨ì…˜', 'ê²¬ì  ë¬¸ì˜']
    },

    // ì„œë¹„ìŠ¤ ë¬¸ì˜
    services: {
        patterns: ['ì„œë¹„ìŠ¤', 'ë­ í•´', 'ë­˜ í•  ìˆ˜', 'ì–´ë–¤ ê²ƒ', 'ì¢…ë¥˜'],
        responses: [
            'ì €í¬ MUSE Studioì—ì„œëŠ” ë‹¤ìŒ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤:\n\nğŸŒ ì›¹ì‚¬ì´íŠ¸ ì œì‘ (50ë§Œì›~)\nğŸ“± ì•± ê°œë°œ (300ë§Œì›~)\nğŸ¤– AI ì†”ë£¨ì…˜ (100ë§Œì›~)\nğŸ¨ ë””ìì¸ (30ë§Œì›~)\n\nì–´ë–¤ ì„œë¹„ìŠ¤ê°€ ê´€ì‹¬ ìˆìœ¼ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ì›¹ì‚¬ì´íŠ¸', 'ì•±', 'AI', 'ë””ìì¸']
    },

    // ì›¹ì‚¬ì´íŠ¸ ê´€ë ¨
    website: {
        patterns: ['ì›¹', 'í™ˆí˜ì´ì§€', 'ì‚¬ì´íŠ¸', 'web', 'ë°˜ì‘í˜•'],
        responses: [
            'ì›¹ì‚¬ì´íŠ¸ ì œì‘ ë¬¸ì˜ì‹œêµ°ìš”! ğŸ‘\n\nì €í¬ëŠ” 3ê°€ì§€ íŒ¨í‚¤ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤:\n\nğŸ“¦ Basic (50ë§Œì›~) - 5í˜ì´ì§€, ê¸°ë³¸í˜•\nğŸ“¦ Professional (150ë§Œì›~) - 10í˜ì´ì§€, ê³ ê¸‰í˜•\nğŸ“¦ ì‡¼í•‘ëª° (300ë§Œì›~) - ê²°ì œ ì‹œìŠ¤í…œ í¬í•¨\n\nì–´ë–¤ ìœ í˜•ì˜ ì›¹ì‚¬ì´íŠ¸ê°€ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['Basic íŒ¨í‚¤ì§€', 'Professional', 'ì‡¼í•‘ëª°', 'ê²¬ì  ë°›ê¸°']
    },

    // ì•± ê´€ë ¨
    app: {
        patterns: ['ì•±', 'app', 'ëª¨ë°”ì¼', 'ì–´í”Œ', 'ios', 'android', 'ì•„ì´í°'],
        responses: [
            'ì•± ê°œë°œ ë¬¸ì˜ì‹œêµ°ìš”! ğŸ“±\n\nğŸ“¦ í•˜ì´ë¸Œë¦¬ë“œ ì•± (300ë§Œì›~)\n- iOS/Android ë™ì‹œ ì§€ì›\n- ë¹ ë¥¸ ê°œë°œ, ë¹„ìš© íš¨ìœ¨ì \n\nğŸ“¦ ë„¤ì´í‹°ë¸Œ ì•± (500ë§Œì›~)\n- ìµœì í™”ëœ ì„±ëŠ¥\n- ê³ ê¸‰ ê¸°ëŠ¥ ì§€ì›\n\nì–´ë–¤ ì•±ì´ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['í•˜ì´ë¸Œë¦¬ë“œ ì•±', 'ë„¤ì´í‹°ë¸Œ ì•±', 'ê²¬ì  ë°›ê¸°']
    },

    // AI ê´€ë ¨
    ai: {
        patterns: ['ai', 'ì¸ê³µì§€ëŠ¥', 'ì±—ë´‡', 'ìë™í™”', 'ë´‡'],
        responses: [
            'AI ì†”ë£¨ì…˜ ë¬¸ì˜ì‹œêµ°ìš”! ğŸ¤–\n\nğŸ“¦ AI ì±—ë´‡ (100ë§Œì›~)\n- 24/7 ê³ ê° ì‘ëŒ€\n- í•™ìŠµ ê¸°ëŠ¥\n\nğŸ“¦ ì—…ë¬´ ìë™í™” (200ë§Œì›~)\n- ë°˜ë³µ ì—…ë¬´ ìë™í™”\n- ë°ì´í„° ì²˜ë¦¬\n\nì–´ë–¤ ì†”ë£¨ì…˜ì´ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['AI ì±—ë´‡', 'ì—…ë¬´ ìë™í™”', 'ê²¬ì  ë°›ê¸°']
    },

    // ë””ìì¸ ê´€ë ¨
    design: {
        patterns: ['ë””ìì¸', 'ui', 'ux', 'ë¡œê³ ', 'ë¸Œëœë“œ'],
        responses: [
            'ë””ìì¸ ì„œë¹„ìŠ¤ ë¬¸ì˜ì‹œêµ°ìš”! ğŸ¨\n\nğŸ“¦ UI/UX ë””ìì¸ (50ë§Œì›~)\n- ì›¹/ì•± ë””ìì¸\n- í”„ë¡œí† íƒ€ì…\n\nğŸ“¦ ë¸Œëœë”© (100ë§Œì›~)\n- ë¡œê³  ë””ìì¸\n- ë¸Œëœë“œ ì•„ì´ë´í‹°í‹°\n\nì–´ë–¤ ë””ìì¸ì´ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['UI/UX', 'ë¸Œëœë”©', 'ê²¬ì  ë°›ê¸°']
    },

    // ê°€ê²©/ê²¬ì 
    pricing: {
        patterns: ['ê°€ê²©', 'ì–¼ë§ˆ', 'ë¹„ìš©', 'ê²¬ì ', 'ê¸ˆì•¡', 'ì˜ˆì‚°'],
        responses: [
            'ê²¬ì  ë¬¸ì˜ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ’°\n\nì •í™•í•œ ê²¬ì ì„ ìœ„í•´ ëª‡ ê°€ì§€ ì—¬ì­¤ë³¼ê²Œìš”.\n\nì–´ë–¤ ì„œë¹„ìŠ¤ê°€ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ì›¹ì‚¬ì´íŠ¸', 'ì•±', 'AI', 'ë””ìì¸'],
        action: 'startQuote'
    },

    // ê²¬ì  Basic
    quoteBasic: {
        patterns: ['basic', 'ê¸°ë³¸', 'ë² ì´ì§', '50ë§Œ'],
        responses: [
            'Basic ì›¹ì‚¬ì´íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì„ íƒí•˜ì…¨ë„¤ìš”! ğŸ“¦\n\nâœ… 5í˜ì´ì§€ ì´ë‚´\nâœ… ë°˜ì‘í˜• ë””ìì¸\nâœ… ê¸°ë³¸ SEO\nâœ… ë¬¸ì˜ í¼\nâœ… 1ê°œì›” ë¬´ë£Œ ìœ ì§€ë³´ìˆ˜\n\nğŸ’° ê¸°ë³¸ ê°€ê²©: 500,000ì›\nğŸ“… ì˜ˆìƒ ê¸°ê°„: 2ì£¼\n\nì¶”ê°€ ì˜µì…˜ì´ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ì¶”ê°€ í˜ì´ì§€', 'ë‹¤êµ­ì–´ ì§€ì›', 'ë°”ë¡œ ê²¬ì  ë°›ê¸°', 'ìƒë‹´ì› ì—°ê²°']
    },

    // ê²¬ì  Professional
    quoteProfessional: {
        patterns: ['professional', 'í”„ë¡œ', 'í”„ë¡œí˜ì…”ë„', '150ë§Œ'],
        responses: [
            'Professional íŒ¨í‚¤ì§€ë¥¼ ì„ íƒí•˜ì…¨ë„¤ìš”! ğŸ“¦\n\nâœ… 10í˜ì´ì§€ ì´ë‚´\nâœ… í”„ë¦¬ë¯¸ì—„ ë””ìì¸\nâœ… ê³ ê¸‰ SEO + ì• ë„ë¦¬í‹±ìŠ¤\nâœ… ê´€ë¦¬ì í˜ì´ì§€\nâœ… SNS ì—°ë™\nâœ… 3ê°œì›” ë¬´ë£Œ ìœ ì§€ë³´ìˆ˜\n\nğŸ’° ê¸°ë³¸ ê°€ê²©: 1,500,000ì›\nğŸ“… ì˜ˆìƒ ê¸°ê°„: 3ì£¼\n\nì¶”ê°€ ì˜µì…˜ì´ í•„ìš”í•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ì¶”ê°€ í˜ì´ì§€', 'ë‹¤êµ­ì–´', 'í”„ë¦¬ë¯¸ì—„ SEO', 'ê²¬ì  í™•ì •']
    },

    // ì£¼ë¬¸/ë°œì£¼
    order: {
        patterns: ['ì£¼ë¬¸', 'ë°œì£¼', 'ì§„í–‰', 'ê³„ì•½', 'ì‹œì‘í•˜ê³ '],
        responses: [
            'ì£¼ë¬¸ì„ ì§„í–‰í•˜ì‹œê² ì–´ìš”? ğŸ‘\n\nì£¼ë¬¸ì„ ìœ„í•´ ëª‡ ê°€ì§€ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤.\n\në‹´ë‹¹ì ì„±í•¨ì„ ì•Œë ¤ì£¼ì„¸ìš”.'
        ],
        action: 'startOrder'
    },

    // ì—°ë½ì²˜
    contact: {
        patterns: ['ì—°ë½', 'ì „í™”', 'ì´ë©”ì¼', 'ì¹´í†¡', 'ìƒë‹´ì›', 'ì‚¬ëŒ'],
        responses: [
            'ì§ì ‘ ìƒë‹´ì„ ì›í•˜ì‹œëŠ”êµ°ìš”! ğŸ“\n\nğŸ“§ ì´ë©”ì¼: contact@muse.studio\nğŸ“ ì „í™”: 02-1234-5678\nğŸ’¬ ì¹´ì¹´ì˜¤í†¡: muse_studio\n\ní‰ì¼ 09:00 - 18:00 ìƒë‹´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\nì›í•˜ì‹œëŠ” ì—°ë½ ë°©ë²•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'
        ],
        quickReplies: ['ì´ë©”ì¼ë¡œ ë¬¸ì˜', 'ì „í™” ìƒë‹´', 'ì¹´ì¹´ì˜¤í†¡ ìƒë‹´']
    },

    // ê¸°ê°„/ì¼ì •
    timeline: {
        patterns: ['ê¸°ê°„', 'ì–¼ë§ˆë‚˜', 'ë©°ì¹ ', 'ì–¸ì œ', 'ì¼ì •', 'ë‚©í’ˆ'],
        responses: [
            'ì œì‘ ê¸°ê°„ì— ëŒ€í•´ ì•ˆë‚´ë“œë¦´ê²Œìš”! â°\n\nğŸŒ ì›¹ì‚¬ì´íŠ¸: 2~4ì£¼\nğŸ“± ì•±: 4~8ì£¼\nğŸ¤– AI ì†”ë£¨ì…˜: 2~4ì£¼\nğŸ¨ ë””ìì¸: 1~3ì£¼\n\nâ€» í”„ë¡œì íŠ¸ ê·œëª¨ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš”.\nâ€» ê¸‰í–‰ ë‚©í’ˆ(+30%)ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤!\n\nì–´ë–¤ í”„ë¡œì íŠ¸ë¥¼ ê³„íší•˜ê³  ê³„ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ì›¹ì‚¬ì´íŠ¸ ë¬¸ì˜', 'ì•± ë¬¸ì˜', 'ê¸‰í–‰ ë‚©í’ˆ']
    },

    // í¬íŠ¸í´ë¦¬ì˜¤
    portfolio: {
        patterns: ['í¬íŠ¸í´ë¦¬ì˜¤', 'ì‘ì—…ë¬¼', 'ì‚¬ë¡€', 'ë ˆí¼ëŸ°ìŠ¤', 'ì˜ˆì‹œ'],
        responses: [
            'ì‘ì—… ì‚¬ë¡€ê°€ ê¶ê¸ˆí•˜ì‹œêµ°ìš”! ğŸ“‚\n\nì €í¬ í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ìƒë‹´ ì‹œ ìì„¸íˆ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.\n\nê°„ë‹¨íˆ ì•ˆë‚´ë“œë¦¬ë©´:\nâœ… 100+ ì›¹ì‚¬ì´íŠ¸ ì œì‘\nâœ… 50+ ì•± ê°œë°œ\nâœ… 30+ AI í”„ë¡œì íŠ¸\n\nê´€ì‹¬ ìˆëŠ” ë¶„ì•¼ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë³´ì—¬ë“œë¦´ê¹Œìš”?'
        ],
        quickReplies: ['ì›¹ì‚¬ì´íŠ¸ ì‚¬ë¡€', 'ì•± ì‚¬ë¡€', 'AI ì‚¬ë¡€']
    },

    // ê²°ì œ
    payment: {
        patterns: ['ê²°ì œ', 'ì§€ë¶ˆ', 'ì¹´ë“œ', 'ê³„ì¢Œ', 'ì…ê¸ˆ'],
        responses: [
            'ê²°ì œ ë°©ë²• ì•ˆë‚´ë“œë¦´ê²Œìš”! ğŸ’³\n\nâœ… ì¹´ë“œ ê²°ì œ (ì¼ì‹œë¶ˆ/í• ë¶€)\nâœ… ê³„ì¢Œì´ì²´\nâœ… ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰\n\nğŸ“Œ ê²°ì œ ì ˆì°¨:\n1. ê³„ì•½ê¸ˆ 30% ì„ ê²°ì œ\n2. ì¤‘ë„ê¸ˆ 40% (ì¤‘ê°„ì ê²€ í›„)\n3. ì”ê¸ˆ 30% (ì™„ë£Œ í›„)\n\në” ê¶ê¸ˆí•œ ì  ìˆìœ¼ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ê²¬ì  ë°›ê¸°', 'ìƒë‹´ì› ì—°ê²°']
    },

    // ê°ì‚¬
    thanks: {
        patterns: ['ê°ì‚¬', 'ê³ ë§ˆì›Œ', 'thanks', 'ë•¡í'],
        responses: [
            'ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ˜Š\n\në” ê¶ê¸ˆí•œ ì  ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”.\nì¢‹ì€ í•˜ë£¨ ë˜ì„¸ìš”! ğŸŒŸ'
        ],
        quickReplies: ['ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°', 'ê²¬ì  ë°›ê¸°', 'ì²˜ìŒìœ¼ë¡œ']
    },

    // ê¸°ë³¸ ì‘ë‹µ (ë§¤ì¹­ ì•ˆë  ë•Œ)
    default: {
        responses: [
            'ì£„ì†¡í•´ìš”, ì˜ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. ğŸ˜…\n\nì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì›í•˜ì‹œëŠ” ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!',
            'ë§ì”€í•˜ì‹  ë‚´ìš©ì„ ì •í™•íˆ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”.\n\nì–´ë–¤ ì„œë¹„ìŠ¤ê°€ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?'
        ],
        quickReplies: ['ì›¹ì‚¬ì´íŠ¸', 'ì•± ê°œë°œ', 'AI ì†”ë£¨ì…˜', 'ê²¬ì  ë¬¸ì˜', 'ìƒë‹´ì› ì—°ê²°']
    }
};

// ëŒ€í™” íë¦„ ìƒíƒœ
const CONVERSATION_FLOWS = {
    // ê²¬ì  íë¦„
    quote: {
        steps: ['selectService', 'selectOptions', 'confirmQuote', 'collectInfo'],
        current: 0
    },

    // ì£¼ë¬¸ íë¦„
    order: {
        steps: ['collectName', 'collectEmail', 'collectPhone', 'collectDetails', 'confirmOrder'],
        current: 0
    }
};

// ì£¼ë¬¸ ì •ë³´ ìˆ˜ì§‘ í”„ë¡¬í”„íŠ¸
const ORDER_PROMPTS = {
    collectName: {
        prompt: 'ë‹´ë‹¹ì ì„±í•¨ì„ ì•Œë ¤ì£¼ì„¸ìš”.',
        validate: (input) => input.length >= 2,
        errorMessage: 'ì„±í•¨ì„ 2ê¸€ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.'
    },
    collectEmail: {
        prompt: 'ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.',
        validate: (input) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(input),
        errorMessage: 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'
    },
    collectPhone: {
        prompt: 'ì—°ë½ì²˜ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”. (ì˜ˆ: 010-1234-5678)',
        validate: (input) => /^[\d-]+$/.test(input) && input.replace(/-/g, '').length >= 10,
        errorMessage: 'ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'
    },
    collectDetails: {
        prompt: 'í”„ë¡œì íŠ¸ì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n(ì›í•˜ì‹œëŠ” ê¸°ëŠ¥, ì°¸ê³  ì‚¬ì´íŠ¸ ë“±)',
        validate: (input) => input.length >= 10,
        errorMessage: '10ê¸€ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.'
    }
};
